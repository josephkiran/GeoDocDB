<!DOCTYPE html>
<html>
<head>
    <title>Leaflet Quick Start Guide Example</title>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
</head>
<body>
    <div id="mapid" style="width: 600px; height: 400px"></div>

    <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?libraries=drawing,places"></script>
    <script>

        var mymap = L.map('mapid').setView([78.368328368702535, 17.393276497418206], 13);

		L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpandmbXliNDBjZWd2M2x6bDk3c2ZtOTkifQ._QA7i5Mpkd_m30IGElHziw', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery © <a href="http://mapbox.com">Mapbox</a>',
			id: 'mapbox.streets'
		}).addTo(mymap);

		//var t = {
		//    "type": "Feature",
		//    "properties": {
		//        "name": "Coors Field",
		//        "amenity": "Baseball Stadium",
		//        "popupContent": "This is where the Rockies play!"
		//    },
		//    "geometry": {
		//        "type": "Point",
		//        "coordinates": [51.508, -0.15]
		//    }
		//};

		//var someGeojsonFeature = {
		//        "coordinates": [[17.393276497418206, 78.368328368702535], [17.395940538792591, 78.371783222231272], [17.395604412847373, 78.372585988369323], [17.395506312977933, 78.3728097824642], [17.395415323005555, 78.373017356110154], [17.395240601593947, 78.373391904065272]], "type": "MultiPoint"
		//}

		


        var states = [{
            "type": "Feature",
            "properties": { "party": "Republican" },
            "geometry": {
                "type": "Polygon",
                "coordinates": [[
                    [-104.05, 48.99],
                    [-97.22, 48.98],
                    [-96.58, 45.94],
                    [-104.03, 45.94],
                    [-104.05, 48.99]
                ]]
            }
        }, {
            "type": "Feature",
            "properties": { "party": "Democrat" },
            "geometry": {
                "type": "Polygon",
                "coordinates": [[
                    [-109.05, 41.00],
                    [-102.06, 40.99],
                    [-102.03, 36.99],
                    [-109.04, 36.99],
                    [-109.05, 41.00]
                ]]
            }
        }];

        var pathValues = [
                [17.3922768, 78.3668208],
[17.3924454, 78.3668189],
[17.3925985, 78.366846],
[17.3927388, 78.3668368],
[17.3929122, 78.3668604],
[17.3931091, 78.3668838],
[17.3933239, 78.3669088],
[17.393419, 78.3670412],
[17.393371, 78.3674025],
[17.3933277, 78.3678611],
[17.3932865, 78.3682471],
[17.3932609, 78.3684087],
[17.3932784, 78.3684905],
[17.3933626, 78.3685901],
[17.3936539, 78.3686691],
[17.394055, 78.3686884],
[17.3944297, 78.3686818],
[17.3948403, 78.3688321],
[17.3952945, 78.3690131],
[17.3958606, 78.3692167],
[17.3963746, 78.3694004],
[17.3965944, 78.3695697],
[17.3966599, 78.3697778],
[17.3965641, 78.370023],
[17.3964627, 78.3703018],
[17.3963613, 78.3706052],
[17.3962776, 78.3708122],
[17.3962111, 78.3710254],
[17.39615, 78.3711995],
[17.3960787, 78.3713583],
[17.3960408, 78.3715187],
[17.3959788, 78.3716903],
[17.3959099, 78.3718795],
[17.3958139, 78.3720571],
[17.3957146, 78.3722786],
[17.395614, 78.3724537],
[17.3955043, 78.3726747],
[17.3954091, 78.3728971],
[17.395327, 78.3730921],
[17.3952246, 78.3733086],
[17.3951534, 78.3734216],
[17.3953408, 78.3729528],
[17.3954469, 78.3727624],
[17.39554, 78.372539],
[17.3956215, 78.372295],
[17.3957519, 78.3720463],
[17.3958577, 78.3717789],
[17.3959693, 78.3715434],
[17.3960404, 78.3713325],
[17.3961057, 78.3711221],
[17.396188, 78.3708956],
[17.3962536, 78.3706849],
[17.3963247, 78.3705013],
[17.3964091, 78.3702469],
[17.3965003, 78.3699776],
[17.3965894, 78.3696977],
[17.3964578, 78.3695192],
[17.3960754, 78.3693889],
[17.3955066, 78.3691696],
[17.3949772, 78.3689964],
[17.3946136, 78.3688919],
[17.3946079, 78.3688789],
[17.3946125, 78.3688652],
[17.3946104, 78.3688624],
[17.394612, 78.368859],
[17.3946119, 78.368859],
[17.3946117, 78.3688585],
[17.3946111, 78.3688584],
[17.3946108, 78.3688585],
[17.3946101, 78.3688588],
[17.39461, 78.3688589]

        ];
        
        var toUnion = [];

        function processSnapToRoadResponse(data) {
            snappedCoordinates = [];
            placeIdArray = [];
            for (var i = 0; i < data.snappedPoints.length; i++) {
                var latlng = new google.maps.LatLng(
                    data.snappedPoints[i].location.latitude,
                    data.snappedPoints[i].location.longitude);
                snappedCoordinates.push(latlng);
                toUnion = snappedCoordinates;
                //placeIdArray.push(data.snappedPoints[i].placeId);
            }
        }

        
        
        //var apiKey = 'AIzaSyDPi40I9WBTnNBAkf9bHR7r3-3IBs4X2xI';
        //$.get('https://roads.googleapis.com/v1/snapToRoads', {
        //    interpolate: true,
        //    key: apiKey,
        //    path: pathValues.join('|')
        //}, function (data) {
        //    //alert(data);
        //    processSnapToRoadResponse(data);
        //    //alert(toUnion);
        //    //drawSnappedPolyline();
        //    //getAndDrawSpeedLimits();
        //    // add line from toUnion array points to map with some basic styling
        //    L.polyline(toUnion, { color: "#ff7800", opacity: 1 }).addTo(mymap);
        //});

        

        

        var multiPoints = {
            "type": "Feature",
            "properties": { "party": "Democrat" },
            "geometry": { "coordinates": [[78.368328368702535, 17.393276497418206], [78.371783222231272, 17.395940538792591], [78.372585988369323, 17.395604412847373], [78.3728097824642, 17.395506312977933], [78.373017356110154, 17.395415323005555], [78.373391904065272, 17.395240601593947], [78.37285996766083, 17.395398490645491], [78.3726500951908, 17.395492112640024], [78.370594285511245, 17.396292603773404], [78.370108707090552, 17.396444378147716], [78.369618147047859, 17.396563468378513], [78.3679361, 17.389609999999998], [78.367977, 17.3900124], [78.368093, 17.3907968], [78.3681502107812, 17.391251330195054], [78.3681702, 17.3914284], [78.36823969999999, 17.3920092], [78.368422857394009, 17.393335343529323], [78.36858069357811, 17.394268604738667], [78.3695333, 17.396554099999996], [78.369679936189982, 17.396646056553749], [78.3704566800461, 17.396422127406787], [78.37111963242512, 17.396198000024768], [78.3714478, 17.396074999999996], [78.371605391893269, 17.396011825998375], [78.3718126, 17.395838899999998], [78.372176120172554, 17.395783036248151], [78.372419805163986, 17.395586952653321], [78.373053871589008, 17.395308805275317], [78.373354578674778, 17.395168649142917], [78.3727237, 17.3954618], [78.3721657, 17.3956916], [78.371657001681385, 17.39590454625662], [78.3714189, 17.396005], [78.3710924, 17.3961255], [78.3706778, 17.3962665], [78.370372403144046, 17.396361956409208], [78.356365197032972, 17.386480983457933], [78.357257929380225, 17.387693514452689], [78.3587064, 17.391729199999997], [78.3597899, 17.393035799999996], [78.3601169, 17.3934867], [78.3626905, 17.3956029], [78.362797976002739, 17.395263400002623], [78.3628631, 17.3949481], [78.362970890224716, 17.394187132513704], [78.363246313166513, 17.393599657109302], [78.3634462, 17.3936329], [78.3636961, 17.3936667], [78.364051433869491, 17.393707754725011], [78.36446819999999, 17.3937299], [78.365314400000017, 17.393643099999995], [78.365774193607464, 17.393588874459805], [78.361396787591815, 17.350137762615812], [78.358043646293552, 17.354644593394674], [78.3578229, 17.3550425], [78.349577099999991, 17.3732836], [78.3511364, 17.3830708], [78.351358590783917, 17.38403477249058], [78.355653199999992, 17.385401899999998], [78.356445156297951, 17.386569432954161], [78.35721539852554, 17.38763756964838], [78.357303, 17.3877528], [78.357613060497272, 17.388016094163884], [78.358157155274768, 17.390593907618442], [78.3586603628471, 17.391551065416714], [78.35883539999999, 17.391970299999997], [78.359874575264271, 17.393155924506438], [78.362934185019981, 17.394491339790449], [78.362951099999989, 17.394306099999998], [78.363055001098118, 17.393681504410683], [78.364143061411042, 17.393721084539521], [78.364858146802121, 17.393691294369727], [78.371589399999991, 17.3987672], [78.371201479236447, 17.3986950392194], [78.3710493, 17.3986971], [78.3710115, 17.3979061], [78.3710047, 17.3977654], [78.370969255711145, 17.397503108062065], [78.37090409999999, 17.3972536], [78.3708327, 17.396939], [78.368710499999992, 17.394163700000004], [78.3684129, 17.393263599999997], [78.3727770790857, 17.401512415598226], [78.3710032654215, 17.398243563654461], [78.386093874102713, 17.400885749734854], [78.3846549, 17.401480799999998], [78.383937, 17.4016704], [78.383855821774134, 17.4013765219869], [78.383759859602975, 17.40095703561397], [78.380551916293669, 17.400436839680854], [78.3801426, 17.4004945], [78.37823139999999, 17.4007667], [78.3774329, 17.400876399999998], [78.3771974, 17.4017569], [78.3772723, 17.402240199999998], [78.377307051849229, 17.402478583340336], [78.3755051, 17.4027258], [78.37545289915829, 17.402716494981757], [78.3751326, 17.402659399999997], [78.3748307, 17.402578799999997], [78.422833034335554, 17.395123889079628], [78.4229763077069, 17.39565285367194], [78.4148168, 17.3994733], [78.41414990605422, 17.400018491962008], [78.396695765087486, 17.400945826859878], [78.3964659, 17.4008593], [78.3923578, 17.400398], [78.391549099999992, 17.400488900000003], [78.389255212706971, 17.400708310698462], [78.426005, 17.396219400000003], [78.4231478, 17.3963735], [78.4231008, 17.396109599999996], [78.422874900000011, 17.395280800000002], [78.422771655927846, 17.394893844636126], [78.4226916, 17.3946157], [78.422645899999992, 17.3943302], [78.4226923, 17.393724199999994]], "type": "MultiPoint" }
        };

        var geojsonMarkerOptions = {
            radius: 5,
            fillColor: "#ff7800",
            color: "#000",
            weight: 1,
            opacity: 1,
            fillOpacity: 0.7
        };

        var geojsonLayer = L.geoJson(multiPoints, {
            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, geojsonMarkerOptions);
            },
            onEachFeature: function (feature, layer) {
                // assign bounds to feature
                feature.properties.bounds_calculated = layer.getBounds();
            }

        }).addTo(mymap);

        //mymap.fitBounds(geojsonLayer.getBounds());

        L.geoJson(states, {
            style: function (feature) {
                switch (feature.properties.party) {
                    case 'Republican': return { color: "#ff0000" };
                    case 'Democrat': return { color: "#0000ff" };
                }
            }
        }).addTo(mymap);

		L.marker([51.5, -0.09]).addTo(mymap)
			.bindPopup("<b>Hello world!</b><br />I am a popup.").openPopup();

		L.circle([51.508, -0.11], 50, {
			color: 'red',
			fillColor: '#f03',
			fillOpacity: 0.5
		}).addTo(mymap).bindPopup("I am a circle.");

		L.polygon([
			[51.509, -0.08],
			[51.503, -0.06],
			[51.51, -0.047]
		]).addTo(mymap).bindPopup("I am a polygon.");


		var popup = L.popup();

		function onMapClick(e) {
			popup
				.setLatLng(e.latlng)
				.setContent("You clicked the map at " + e.latlng.toString())
				.openOn(mymap);
		}

		mymap.on('click', onMapClick);

    </script>
</body>
</html>
